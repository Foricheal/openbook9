# 疯教授漫谈物理计算--看懂电路原理图
>作者 唐乐

如果我给出下面的电路原理图给大家，大家会不会看了之后一头雾水？感觉如老虎吃乌龟，不知道怎么下嘴？![1](http://doask.qiniudn.com/openbook9-fengda1.png)

实际上，这张图就是Arduino Uno R3的电路原理图，我第一次看这种电路图也是一头雾水。
不过，别担心，我们一步一来，完全看懂它并不需要多久的时间。
首先，我们弄懂电路原理图的概念：用直角拐弯线条将各种电子元器件图标的引脚连接起来组成电路，完成某种特定功能的示意图就叫电路原理图。


##1.1 电路原理图中让初学者挠头的规则：
A、除IC和连接器（接插件）所有的电子元器件都有其固定的图标。
如上一章电阻的图标，电容的图标等，它们都有其标准的图标，一个图标就代表一种电子元器件（电子元器件的图标会做上标和下标，我们也能够从它上标的头字母来了解这种零件的类型，从下标了解这个电子元器件的实际值，但是，我们无法判断其具体的封装及外形尺寸）。
让读者挠头的是，电子元器件的图标很多，很繁杂，除非是专业人士，否则记忆起来让人挠头。

如下例：![2](http://doask.qiniudn.com/openbook9-fengda2.png)

对它的理解如下：
>这是一个无极性电容器，它在电路图中的编号为C14，容值为100nF


又如下例：![3](http://doask.qiniudn.com/openbook9-fengda3.png)

对它的理解如下：
>这是一个有极性的电容，在电路图中的编号为C20，容值为47uF

还如：![04](http://doask.qiniudn.com/openbook9-fengda4.png)

>这是一颗保险丝，在电路图中的编号为F2，限流值为500mA



B、我们不仅要熟悉电子元器件的图标，知道它的功能，知道它的商业化封装的可选尺寸，知道它的值范围，知道它的关联数据。
实际上，几乎所有的电子元器件都有一本或厚或薄的书来介绍它，这种书的名字叫：数据手册（Datasheet）。
会不会看数据手册，看不看得懂数据手册，其实很考校一个人的电子学基本功。不过，在此陈恳地建议诸位读者，如果你的英文基础不算太烂，当你进行基于Arduino的项目创作的时候，请有事没事翻一下所用电子元器件的数据手册，你会受益良多的。
我们在看电路原理图的时候，实际上就是在从电源的负极和正极出发，然后看导线通过了什么电子元器件，各种电子元器件对电压或者电流又分别产生了什么影响，有什么效果输出来，直到最后导线回到电源的负极或者正极。



  C、连接电子元器件之间的连线是直线，在电学计算的时候被考虑为理想导线（无电阻）。并且，导线相交并不表示两条导线在电路上连接在一起。仅在交叉点被打上一个圆点才算连接。所以，在碰到交叉的情况的时候，需要小心点，务必看清楚是否有圆点，否则就很容易出现误读，从而导致错误，让人挠头。

| 这种情况下导线不连接 | 这种情况下，导线其实是连接在一起 |
| -- | -- |
| ![5.1](http://doask.qiniudn.com/openbook9-fengda5.1.png) | ![5.2](http://doask.qiniudn.com/openbook9-fengda5.2.png) |



 D、为使得复杂电路图能够有效地根据功能分区，特别定义，两段导线如果在各自导线末端上进行了一致性的文字，则表示两段线在实际上是连接在一起的。如下图：

| 它们实际上是连接在一起的（USBVCC） |
| -- |
| ![6.1](http://doask.qiniudn.com/openbook9-fengda6.1.png) ![6.2](http://doask.qiniudn.com/openbook9-fengda6.2.png) |

如果电路图非常大，那么你就需要在众多的连线中找到两根等价的线，这让人挠头，但是，如果不找到，你就看不懂全图。
不过，有些电路原理图的分块是毫无道理可言的，仅仅是设计者的个人喜好。因此，你将不得不重新在脑海里面将这些分开的电路原理图凑成一张整图，这很烦人。



 E、特别规定VCC，GND两种特殊符号，表示电源的正极（VCC）和负极（GND）连接入电路。

对于VCC图标而言，所有上标一致的电源是来自于同一个电源。

如Arduino Uno R3的电路图中，所有的如下图圆圈中的VCC图标，其实都是连接在一起的，都连接到了+5V电源上：![7](http://doask.qiniudn.com/openbook9-fengda7.png)

所有下标为GND的其实都是连接在一起的：![8](http://doask.qiniudn.com/openbook9-fengda8.png)

这个规则也让初次接触电路原理图的人非常不习惯，以至于看起来挠头。（因为初学者习惯于用电池来表示电源）。
有时候我们还会看到同样的图标上面会标示不同的数字，尤其是VCC，有时候会标注不同的电压，这个时候，请不要将它们等价成一体，而是标注不同的文字的才能够被归类成一样。
当然，一般而言，一张电路原理图中，所有的GND倒是毫无疑义地是等价的。



F 等价原则，或者说理想导线原则
   如果电子元器件的两个引脚被直接连接在一起，那么，无论二者之间的连接线有多长，我们都可以将两个引脚看成是等价一致的。例如，我们假设A零件的a1引脚和B零件的b1引脚是直接连接的，那么，a1引脚的电流电压值和b1引脚的电流电压值是完全一致的。
 之所以会如此，是因为我们假设电路原理中的连接线（导线）的电阻是零，因此，它能够承受无限高的电压，或者无限大的电流强度。
这一点也让初学者挠头，因为这显然违背了初中物理告诉我们的知识：导线越长，电阻越大。
但是，请注意，这是原理图，导线的电阻被忽略是一个约定俗成的规则。即便我们需要表现实际导线的电阻，那么我们也必须在电路中加入一个固定电阻的图标来表示。

如果了解了上面的规则，我相信，即便看不懂整个Arduino R3的电路图。可是，每个电子元件的连接情况，相信大家都会明了吧？

总而言之，电路原理图其实一种抽象化的连接逻辑，我们可以根据原理图了解各个零件的连接方法，了解各种零件在电路计算中所需的参数，推测各种电路回路所实现的功能。
但是，由于电路图是一种抽象化的电子元器件连接，所以在这里再次强调：我们不能根据其在原理图上所占空间的大小来确定其物理尺寸的大小，即所谓的封装方式。
比如说，在Arduino主板上，ATMEGA328P和ATMEGA16U2，前者明显比后者个头大，但是在原理图上面，明显后者比前者的个头大很多。
而之所以前者在电路原理图上很大，只是因为后者的引脚很多，如果不把表示芯片的方框画很大，那么引脚就不好进行标记和分类。
又如，有些大功率器件的电路原理图，它的电路结构非常简单，但是其代表的电路板成品的物理尺寸却非常巨大（因为要加强散热）。

##12.2电路图的识别实战-从最简单的电路图开始
下面，我们来开始电路图的识别实战，尝试看懂Arduino Uno R3版本的LED的电路图。
  首先，我们需要先回忆下初中的物理知识。
一个完整的可控电路原型是什么样子的？
可控电路，顾名思义，就是电路的运行是可控的。如何可控？其实，说白了，就是有一个开关，能够控制电路的通断。

如下图所示：![9](http://doask.qiniudn.com/openbook9-fengda9.png)

一个完整的可控电路原型的电路图里面包含了三个设备：
>电池：为电路提供电源
开关：使得电路可控
用电器：使得电路完成某种功能

如果这个开关是人来控制，那么这个电路就是所谓的人工控制电路
如果这个开关是由Arduino之类的计算机来控制，那么这个电路就是所谓的人工智能控制电路。

从宽泛地意义而言，我们任何完整的Arduino应用电路其实最终都能够被归化成这个可控电路原型。



Arduino L灯的电路原型及归化到可控电路原型的方法
还记得在第二卷里被我们反复折腾的L灯么？其实它的电路图就可以被归化到可控电路原型中。
下面，我们就将Arduino 相关于L灯的电路原理图从整个电路中抠出来，然后尝试将其归化到可控电路原型的框架内去：![10](http://doask.qiniudn.com/openbook9-fengda10.png)

抠出来的部分如果加以整理，实际上，我们得到的是如下的观察结果：
从芯片的PB5引脚连接出来，然后同时连接到排母IOH上的13号引脚上以及一个并联电阻上，根据等价原则，PB5引脚其实就是Arduino主板的13号引脚。
并联电阻编号为RN2A和RN2B，每个为1KΩ（1000Ω），套用并联电阻计算公式，它们两个等效于一个电阻等于500Ω（欧姆）的单电阻。
在通过并联电阻之后，电路连接到LED，再通过LED连接到了GND。
如果只讲到这里，相信大家会发飙：
这如何被归化到完整的基本可控电路中去？开关呢？电源的正极呢？
好吧。实话实话，我们其实只抠完了一半。
还有一半没有抠完，我们继续抠另外一半，它的截取部分如下：![11](http://doask.qiniudn.com/openbook9-fengda11.png)


如果精简掉和我们研究内容无关的连线并加以整理。那么，我们实际上可以得到如下的电路图：![12](http://doask.qiniudn.com/openbook9-fengda12.png)

即，对照标可控电路原型，Arduino Uno R3 的L灯的电路原理图可以作如下归化：
电源：+5V和GND实际上构成了电源的正负两极。电源在原图中被抽象成了正负两个图标。
用电器：实际上，是两个电阻的并联和LED灯共同作为用电器而存在。
开关：开关哪里去了？实际上，我们可以将ATMEGA芯片看做是一个开关，或者说，在VCC引脚和PB5（也就是Arduino的13号引脚）引脚之间的芯片内部，有一个能够被ATMEGA328P芯片控制的开关。



**至此，整个归化过程完结。
完成这个归化过程对我们来说有什么意义呢？**

A、我们在构思可控电路的时候就会有一个思维的起始点：即，我们无论怎么画图，最开始都是按照可控电路原型来展开思维的。只是因为实现的效果或者功能不同，电路可行的电流或者电压不同，电路处于的环境不同等因素，我们会将用电器的部分设计得五花八门，但是，究其根本还是脱离不了这个范畴。
这类似于孙悟空的72变和其本尊之间的联系和区别。



B、我们未来肯定需要通过看别人的电路图来提高自己，那么如何看?很简单，我们逮住VCC开始看，看它通过什么元件，最终我们需要找到通往GND的路。
而由多段连接线，完成从VCC到GND之间的连接，这实际上就是一个完整的回路。不管电路多么复杂，你都可以进行这样的梳理。而梳理的目标就是：看看到底有多少条可能性的连通实现了从VCC到GND。



C、在我们懂得这个过程之后，我们也可以来分析自己画的电路。如果实现了从VCC-GND的连续连接，那么至少你的电路可以导通，而不是毫无根据的臆想。



D、在画完电路原理图之后，我们在进行零件选型匹配的时候需要做数学计算，那么电压或者电流的信息从哪里取得？如何计算一个确定的电子元器件（如电阻）究竟需要多大的值才是合适的？那我们在进行电子元器件的选用参数计算的时候，我们同样需要将电路归化成可控电路原型来展开计算，否则，眉毛胡子一把抓，你哪里来的头绪？
不过，在实践中，由于我们已经熟悉了Arduino的电路原理图，所以如果不是特别必要，那么我们就会进行省略，即，我们直接从Arduino的引脚开始，然后画出用电器，再连接到GND或者VCC去。
 如，关于L灯的电路，我们最终可以画成如下的电路原理图：![13](http://doask.qiniudn.com/openbook9-fengda13.png)

因为，实际上，DGITAL_#13连接线就是连接到了Arduino主板的13号引脚，而如果对照可控电路的原型来说，它已经连接到开关右边的那个引脚。
从开关右边的引脚开始回溯,一直到电源的正极，对于Arduino主板来说，这些电路都是不可改变并为大家所熟知的（除非你把Arduino主板给拆了，然后动用烙铁连接别的线路）。
既然这个部分大家都知道，那么省略了，也就没有什么大不了的，反正不会影响电路的分析和最后实际的连接工作。



**小结：**

看懂电路图对我们来说非常重要，一方面，我们需要看懂别人的电路图，从而为自己的创作提供灵感和素材，另一方面，我们必须在开始电路搭建之前先行看懂或者设计出电路原理图来，否则，我们的电路搭建就会变成一场几乎必败的赌博。
当然，这篇文章也不是认识电路图的大百科全书及终极必杀技。实际上，我这里并未将所有的电子元器件的原理图图标开列出来，这需要读者自己去翻找。
并且，我也没有提及关于根据电路原理图来进行电路计算的知识。
电路原理图的信息包含的内容非常丰富，但也不是全部。不过，总得来说，我这篇介绍知识为了让读者们能够入门，可以在一个扎实的基础上就未来的有关学习做出扩展。

